<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libdsbrut: brut.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>brut.h File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#0201c89bdbc34676987108078b51ea18">PC5</a>&nbsp;&nbsp;&nbsp;19</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#022a7d959dcbf745fe3dd8d63ba87d7e">PC4</a>&nbsp;&nbsp;&nbsp;18</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#49f905bdec77847ec7bf99045c67b4fc">PD3</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#9354d3e997f198d58db7ce864a5171e6">PD4</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#a1bdfe98b68dc6bf0934403577a69402">PD6</a>&nbsp;&nbsp;&nbsp;6</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#a614a23db7d81aaea22d54df6cec59b7">PD5</a>&nbsp;&nbsp;&nbsp;5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#b80df1cb2921c666868e178326e938ce">PC3</a>&nbsp;&nbsp;&nbsp;17</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#f4cc2866af9a3674feedf15a2bb2b540">ACCEL_X</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#73df2dcbe32c4a51551b34034093c37f">ACCEL_Y</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#1e1de74892d5fa9c2fc21bcc6fd50618">ACCEL_Z</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#5bb885982ff66a2e0a0a45a8ee9c35e2">HIGH</a>&nbsp;&nbsp;&nbsp;true</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#b811d8c6ff3a505312d3276590444289">LOW</a>&nbsp;&nbsp;&nbsp;false</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#c97aeb9e3f8d48ba5343c096d73907d4">analog_read</a> (uint8 pin)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#b6887d670189c07c25905ff9afeebf2c">analog_read_fast</a> (bool start, uint8 pin)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#0bda4019aa5a091b5444664da900c8b0">analog_write</a> (uint8 pin, uint8 val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#0e92927451b10b8d708d9f85bb19467a">atmega_reset</a> (bool wait)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#effec12b6caa3fddb430de1aa33fe351">atmega_read_8</a> (uint8 reg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#95a3aa49437f38276bf3907bd722d328">atmega_write_8</a> (uint8 reg, uint8 val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#454ea5c0e27d68777f03e0d67242a157">digital_read</a> (uint8 pin)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#f2d706c67b80c51d0f23a5ec4af25b2d">digital_write</a> (uint8 pin, bool val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#42583818f42d824fa133d448ed10a8bb">i2c_receive</a> (uint8 addr, uint8 *dest, uint8 size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="brut_8h.html#cdbae8488c5b9577ccaa56938e6b5d73">i2c_send</a> (uint8 addr, const uint8 *src, uint8 size)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="f4cc2866af9a3674feedf15a2bb2b540"></a><!-- doxytag: member="brut.h::ACCEL_X" ref="f4cc2866af9a3674feedf15a2bb2b540" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACCEL_X&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="73df2dcbe32c4a51551b34034093c37f"></a><!-- doxytag: member="brut.h::ACCEL_Y" ref="73df2dcbe32c4a51551b34034093c37f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACCEL_Y&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1e1de74892d5fa9c2fc21bcc6fd50618"></a><!-- doxytag: member="brut.h::ACCEL_Z" ref="1e1de74892d5fa9c2fc21bcc6fd50618" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACCEL_Z&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5bb885982ff66a2e0a0a45a8ee9c35e2"></a><!-- doxytag: member="brut.h::HIGH" ref="5bb885982ff66a2e0a0a45a8ee9c35e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HIGH&nbsp;&nbsp;&nbsp;true          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b811d8c6ff3a505312d3276590444289"></a><!-- doxytag: member="brut.h::LOW" ref="b811d8c6ff3a505312d3276590444289" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOW&nbsp;&nbsp;&nbsp;false          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b80df1cb2921c666868e178326e938ce"></a><!-- doxytag: member="brut.h::PC3" ref="b80df1cb2921c666868e178326e938ce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PC3&nbsp;&nbsp;&nbsp;17          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="022a7d959dcbf745fe3dd8d63ba87d7e"></a><!-- doxytag: member="brut.h::PC4" ref="022a7d959dcbf745fe3dd8d63ba87d7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PC4&nbsp;&nbsp;&nbsp;18          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0201c89bdbc34676987108078b51ea18"></a><!-- doxytag: member="brut.h::PC5" ref="0201c89bdbc34676987108078b51ea18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PC5&nbsp;&nbsp;&nbsp;19          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="49f905bdec77847ec7bf99045c67b4fc"></a><!-- doxytag: member="brut.h::PD3" ref="49f905bdec77847ec7bf99045c67b4fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PD3&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9354d3e997f198d58db7ce864a5171e6"></a><!-- doxytag: member="brut.h::PD4" ref="9354d3e997f198d58db7ce864a5171e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PD4&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a614a23db7d81aaea22d54df6cec59b7"></a><!-- doxytag: member="brut.h::PD5" ref="a614a23db7d81aaea22d54df6cec59b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PD5&nbsp;&nbsp;&nbsp;5          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a1bdfe98b68dc6bf0934403577a69402"></a><!-- doxytag: member="brut.h::PD6" ref="a1bdfe98b68dc6bf0934403577a69402" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PD6&nbsp;&nbsp;&nbsp;6          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="c97aeb9e3f8d48ba5343c096d73907d4"></a><!-- doxytag: member="brut.h::analog_read" ref="c97aeb9e3f8d48ba5343c096d73907d4" args="(uint8 pin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 analog_read           </td>
          <td>(</td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>pin</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
read the value of an analog pin.<p>
works with PC5, PC4; PC3 (ds brut uart only) you can use this function to read from a build-in adxl330 accelerometer, using ACCEL_{X,Y,Z} as pin. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pin</em>&nbsp;</td><td>pin to use (see pin definitions above) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>value (0-1023) </dd></dl>

</div>
</div><p>
<a class="anchor" name="b6887d670189c07c25905ff9afeebf2c"></a><!-- doxytag: member="brut.h::analog_read_fast" ref="b6887d670189c07c25905ff9afeebf2c" args="(bool start, uint8 pin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void analog_read_fast           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>pin</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
start a fast adc conversion of an analog pin.<p>
this function continuously returns the value of the analog pin as an uint8 (8 bit) in the normal input queue (so read with <a class="el" href="uart_8h.html#4862a711bc1ae0e30b2acd618e13df8d">uart_read()</a>, etc). until this function is called again with start set to false, all other data send to the device will be ignored. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>true to start, false to stop </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pin</em>&nbsp;</td><td>pin to use (see pin definitions above) </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0bda4019aa5a091b5444664da900c8b0"></a><!-- doxytag: member="brut.h::analog_write" ref="0bda4019aa5a091b5444664da900c8b0" args="(uint8 pin, uint8 val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void analog_write           </td>
          <td>(</td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
write a pwm value to a pin.<p>
works with PD3, PD6, PD5 <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pin</em>&nbsp;</td><td>pin to use (see pin definitions above) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>value </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="effec12b6caa3fddb430de1aa33fe351"></a><!-- doxytag: member="brut.h::atmega_read_8" ref="effec12b6caa3fddb430de1aa33fe351" args="(uint8 reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8 atmega_read_8           </td>
          <td>(</td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>reg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
read registers on the device.<p>
see atmega168 datasheet, p. 343f. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>register address </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>register value </dd></dl>

</div>
</div><p>
<a class="anchor" name="0e92927451b10b8d708d9f85bb19467a"></a><!-- doxytag: member="brut.h::atmega_reset" ref="0e92927451b10b8d708d9f85bb19467a" args="(bool wait)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atmega_reset           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>wait</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
reset the device.<p>
this function triggers a watchdog reset on the atmega micro- controller. a modified bootloader is necessary for this to work, otherwise no reset will be performed. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>wait</em>&nbsp;</td><td>wait for the card to become available again </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="95a3aa49437f38276bf3907bd722d328"></a><!-- doxytag: member="brut.h::atmega_write_8" ref="95a3aa49437f38276bf3907bd722d328" args="(uint8 reg, uint8 val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void atmega_write_8           </td>
          <td>(</td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
write to registers on the device.<p>
see atmega168 datasheet, p. 343f. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td>register address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>value to set </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="454ea5c0e27d68777f03e0d67242a157"></a><!-- doxytag: member="brut.h::digital_read" ref="454ea5c0e27d68777f03e0d67242a157" args="(uint8 pin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool digital_read           </td>
          <td>(</td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>pin</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
read the value of a pin.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pin</em>&nbsp;</td><td>pin to use (see pin definitions above) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>HIGH or LOW </dd></dl>

</div>
</div><p>
<a class="anchor" name="f2d706c67b80c51d0f23a5ec4af25b2d"></a><!-- doxytag: member="brut.h::digital_write" ref="f2d706c67b80c51d0f23a5ec4af25b2d" args="(uint8 pin, bool val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void digital_write           </td>
          <td>(</td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
set a pin either high or low.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pin</em>&nbsp;</td><td>pin to use (see pin definitions above) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>HIGH or LOW </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="42583818f42d824fa133d448ed10a8bb"></a><!-- doxytag: member="brut.h::i2c_receive" ref="42583818f42d824fa133d448ed10a8bb" args="(uint8 addr, uint8 *dest, uint8 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8 i2c_receive           </td>
          <td>(</td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8 *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
receive data over the i2c bus.<p>
use PC4 as SDA and PC5 as SCL line. the device joins the i2c bus as master. addr has the destination address in the lower 7 bits. internally, they are being left-shifted and the read/write bit appended (like on arduino). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>source address (slave) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dest</em>&nbsp;</td><td>destination buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>size of destination buffer in bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes received </dd></dl>

</div>
</div><p>
<a class="anchor" name="cdbae8488c5b9577ccaa56938e6b5d73"></a><!-- doxytag: member="brut.h::i2c_send" ref="cdbae8488c5b9577ccaa56938e6b5d73" args="(uint8 addr, const uint8 *src, uint8 size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8 i2c_send           </td>
          <td>(</td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8 *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
send data over the i2c bus.<p>
use PC4 as SDA and PC5 as SCL line. the device joins the i2c bus as master. addr has the destination address in the lower 7 bits. internally, they are being left-shifted and the read/write bit appended (like on arduino). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>destination address (slave) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>data to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>number of bytes to send </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>size to big for (atmega) buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>2</em>&nbsp;</td><td>address send, nack received </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>3</em>&nbsp;</td><td>data send, nack received </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>4</em>&nbsp;</td><td>other i2c error (lost bus arbitration, bus error) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>255</em>&nbsp;</td><td>out of memory </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
</body>
</html>
